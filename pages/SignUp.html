<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styles/SignUp.css">
    <link href='https://fonts.googleapis.com/css?family=ABeeZee' rel='stylesheet'>
</head>
<body>
    <div class="login-card" >
        <h2>Signup</h2>
        <h3>Enter your credentials</h3>
        <form class="login-form" >
            <input type="text" placeholder="Name" id="name" />
            <input type="text" placeholder="Email" id="email" />
            <input type="password" placeholder="Password" id="pass" />
            <a href="#" >Forget Your Password</a>
            <button>SIGN-UP</button>
        </form>
        <div class="already" >
            <a href="./LogIn.html" >Already Signed-Up</a>
        </div>
    </div>
</body>
</html>
<script>
    document.querySelector("button").addEventListener('click',signupFunction);


    function signupFunction(){
    event.preventDefault();

    let isSignup = true;

    // get value from form tag
    var obj = 
    {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        password: document.getElementById("pass").value,
    }
 
    // get all users data from localStorage
    var userData=JSON.parse(localStorage.getItem("userData")) || [];

    // check if user already exist or not!!
    userData.map((el) => {
        if(el.email == obj.email){
            signupSuccess = false
        }
});


  if(isSignup)
  {
      // Add to local storage
      userData.push(obj);
      localStorage.setItem('userData',JSON.stringify(userData));
      
      // redirect to login
      window.open("login.html","_self");
  }
  else
    {
    alert("User Already Exist, Please try agian!")
    }

}
</script>